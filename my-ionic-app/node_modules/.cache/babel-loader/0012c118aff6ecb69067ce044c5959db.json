{"ast":null,"code":"var _jsxFileName = \"G:\\\\Mihnea\\\\Facultate\\\\anu 3\\\\Mobile\\\\start\\\\my-ionic-app\\\\src\\\\class\\\\ItemEdit.tsx\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport { IonButton, IonButtons, IonContent, IonHeader, IonInput, IonItem, IonLabel, IonLoading, IonPage, IonSelect, IonSelectOption, IonTitle, IonToolbar } from '@ionic/react';\nimport { getLogger } from '../core';\nimport { ItemContext } from './ItemProvider';\nconst log = getLogger('ItemEdit');\n\nconst ItemEdit = ({\n  history,\n  match\n}) => {\n  const {\n    items,\n    saving,\n    savingError,\n    saveItem\n  } = useContext(ItemContext);\n  const [text, setText] = useState('');\n  const [date, setDate] = useState('2021-11-10');\n  const [num, setNum] = useState(0);\n  const [bool, setBool] = useState(\"true\");\n  const [item, setItem] = useState();\n  useEffect(() => {\n    log('useEffect');\n    const routeId = match.params.id || '';\n    const item = items === null || items === void 0 ? void 0 : items.find(it => it.id === routeId);\n    setItem(item);\n\n    if (item) {\n      setText(item.text);\n      setDate(item.date);\n      setNum(item.num);\n      setBool(item.bool);\n    }\n  }, [match.params.id, items]);\n\n  const handleSave = () => {\n    //const editedItem = item ? { ...item, text } : { text };\n    const editedItem = item ? { ...item,\n      text,\n      date: date,\n      num: num,\n      bool: bool\n    } : {\n      text,\n      date: date,\n      num: num,\n      bool: bool\n    };\n    saveItem && saveItem(editedItem).then(() => history.goBack());\n  };\n\n  log('render');\n  return /*#__PURE__*/React.createElement(IonPage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(IonHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(IonToolbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IonTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }, \"Edit Item\"), /*#__PURE__*/React.createElement(IonButtons, {\n    slot: \"end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonButton, {\n    onClick: () => history.goBack(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, \"Back\"), /*#__PURE__*/React.createElement(IonButton, {\n    onClick: handleSave,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, \"Save\")))), /*#__PURE__*/React.createElement(IonItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(IonContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(IonInput, {\n    value: text,\n    onIonChange: e => setText(e.detail.value || ''),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(IonLoading, {\n    isOpen: saving,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }), savingError && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, savingError.message || 'Failed to save item'))), /*#__PURE__*/React.createElement(IonItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, \"Date\"), /*#__PURE__*/React.createElement(IonContent, {\n    class: \"ion-text-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(IonSelect, {\n    value: date,\n    placeholder: \"Select date\",\n    onIonChange: e => setDate(e.detail.value || ''),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IonSelectOption, {\n    value: \"2021-11-10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, \"2021-11-10\"), /*#__PURE__*/React.createElement(IonSelectOption, {\n    value: \"2021-12-10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }, \"2021-12-10\")), savingError && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 15\n    }\n  }, savingError.message || 'Failed to save class')));\n};\n\nexport default ItemEdit;","map":{"version":3,"sources":["G:/Mihnea/Facultate/anu 3/Mobile/start/my-ionic-app/src/class/ItemEdit.tsx"],"names":["React","useContext","useEffect","useState","IonButton","IonButtons","IonContent","IonHeader","IonInput","IonItem","IonLabel","IonLoading","IonPage","IonSelect","IonSelectOption","IonTitle","IonToolbar","getLogger","ItemContext","log","ItemEdit","history","match","items","saving","savingError","saveItem","text","setText","date","setDate","num","setNum","bool","setBool","item","setItem","routeId","params","id","find","it","handleSave","editedItem","then","goBack","e","detail","value","message"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\r\nimport {\r\n  IonButton,\r\n  IonButtons,\r\n  IonContent,\r\n  IonHeader,\r\n  IonInput, IonItem, IonLabel,\r\n  IonLoading,\r\n  IonPage, IonSelect, IonSelectOption,\r\n  IonTitle,\r\n  IonToolbar\r\n} from '@ionic/react';\r\nimport { getLogger } from '../core';\r\nimport { ItemContext } from './ItemProvider';\r\nimport { RouteComponentProps } from 'react-router';\r\nimport { ItemProps } from './ItemProps';\r\n\r\nconst log = getLogger('ItemEdit');\r\n\r\ninterface ItemEditProps extends RouteComponentProps<{\r\n  id?: string;\r\n\r\n}> {}\r\n\r\nconst ItemEdit: React.FC<ItemEditProps> = ({ history, match }) => {\r\n  const { items, saving, savingError, saveItem } = useContext(ItemContext);\r\n  const [text, setText] = useState('');\r\n  const [date, setDate] = useState('2021-11-10');\r\n  const [num,setNum] = useState(0);\r\n  const [bool,setBool] = useState(\"true\");\r\n  const [item, setItem] = useState<ItemProps>();\r\n  useEffect(() => {\r\n    log('useEffect');\r\n    const routeId = match.params.id || '';\r\n    const item = items?.find(it => it.id === routeId);\r\n    setItem(item);\r\n    if (item) {\r\n      setText(item.text);\r\n      setDate(item.date);\r\n      setNum(item.num);\r\n      setBool(item.bool);\r\n    }\r\n  }, [match.params.id, items]);\r\n  const handleSave = () => {\r\n    //const editedItem = item ? { ...item, text } : { text };\r\n    const editedItem = item ? {...item,text,date:date,num:num,bool:bool}:{text,date:date,num:num,bool:bool}\r\n    saveItem && saveItem(editedItem).then(() => history.goBack());\r\n  };\r\n  log('render');\r\n  return (\r\n    <IonPage>\r\n      <IonHeader>\r\n        <IonToolbar>\r\n          <IonTitle>Edit Item</IonTitle>\r\n          <IonButtons slot=\"end\">\r\n            <IonButton onClick={() => history.goBack()} >\r\n              Back\r\n            </IonButton>\r\n            <IonButton onClick={handleSave}>\r\n              Save\r\n            </IonButton>\r\n          </IonButtons>\r\n        </IonToolbar>\r\n      </IonHeader>\r\n      <IonItem>\r\n      <IonContent>\r\n\r\n        <IonInput value={text} onIonChange={e => setText(e.detail.value || '')} />\r\n        <IonLoading isOpen={saving} />\r\n        {savingError && (\r\n          <div>{savingError.message || 'Failed to save item'}</div>\r\n        )}\r\n      </IonContent>\r\n      </IonItem>\r\n\r\n      <IonItem>\r\n      <IonLabel>Date</IonLabel>\r\n        <IonContent class='ion-text-right'/>\r\n        <IonSelect value={date} placeholder = \"Select date\" onIonChange = {e => setDate(e.detail.value || '')} >\r\n          <IonSelectOption value = \"2021-11-10\">2021-11-10</IonSelectOption>\r\n          <IonSelectOption value = \"2021-12-10\">2021-12-10</IonSelectOption>\r\n        </IonSelect>\r\n        {\r\n          savingError && (\r\n              <div>{savingError.message || 'Failed to save class'}</div>\r\n          )\r\n        }\r\n\r\n\r\n      </IonItem>\r\n\r\n    </IonPage>\r\n  );\r\n};\r\n\r\nexport default ItemEdit;\r\n"]},"metadata":{},"sourceType":"module"}